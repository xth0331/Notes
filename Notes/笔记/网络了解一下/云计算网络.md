# 云计算网络

## 物理机 -> 虚拟机

所谓云计算，其实就是基于虚拟化产生的一种消费方式，可以这样一句话概括：

> N个物理区域中，分别运行着M * N个节点的虚拟化节点，由这些节点组成了一个或多个虚拟化集群，在这个集群上运行着N多个虚拟机实例，向互联网上的消费者提供虚拟机实例以供计算，这就是公有云；自建自用，就是私有云；自建了还额花钱买了其他运营商提供的计算虚拟机实例，就是混合云（这里仅仅说的是计算资源，其他存储或网络资源同理）。

当然，如果你可以编排物理机，也是可以成为云计算的。（物理机好比拿地盖房子，虚拟机好比购买公寓）

如果你不知道虚拟化是什么，这样你下一个`virtualbox`安装体验一下，虚拟化软件就像你去电脑城买笔记本，你可以跟虚拟化软件说，我要几颗CPU，多大内存，多大硬盘，什么网卡（前提你有）。用的时候你一创建，不玩了你点删除，就没了。

生产环境，主流的虚拟化主要是这几种：VMware、Xen、KVM等。

这里说qemu-kvm，从名字上来看，`emu`就是`Emulator`(模拟器)，主要模拟CPU、RAM（内存）、网络、硬盘，使得虚拟机感觉自己在使用独立的硬件资源，但真正使用的时候，肯定是要用物理设备的。

例如，多个虚拟机轮流使用物理CPU（这个具体可以google一下），内存是使用虚拟内存映射的方式，最终映射到物理内存上。硬盘简单一些，你笔记本有500GB，新建一个20GB空文件（当然，要根据要求的格式创建），这就是你虚拟机的磁盘。

虚拟化软件是什么？骗子，向上骗虚拟机里面的应用，让他们感觉自己是在用真实的硬件资源，其实自己啥也没有，全部向下从物理机里面取。

## 虚拟网卡原理

如何将虚拟机