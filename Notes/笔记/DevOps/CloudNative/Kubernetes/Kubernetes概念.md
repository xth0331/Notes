# Kubernetes概念



## 什么是Kubernetes

Kubernetes是一个可移植，可拓展的开源平台，用于管理容器化工作负载和服务，使用声明式配置和自动化。拥有庞大，快速发展的生态。

## 为什么需要Kubernetes，它能做什么？

Kubernetes有许多功能。被认为是：

- 一个容器平台
- 一个微服务平台
- 便携式云平台等。

Kubernetes提供**以容器为中心（container-centric）**的管理环境。它代表用户工作负载协调计算，网络和存储基础架构。这提供了平台即服务（PaaS）的大部分简单性，具有基础架构即服务（IaaS）的灵活性，并支持跨基础架构提供商的可移植性。

## Kubernetes如何成为一个平台？

尽管Kubernetes提供了许多功能，但总会有新的方案可以从新功能中受益。可以简化特定于应用程序的工作流程，加快开发人员的速度。最初可接受的特殊编排通常需要大规模的自动化。这就是为什么Kubernetes还可以作为构建组件和工具生态系统的平台，以便更轻松地部署扩展和管理应用程序。

标签使用户可以随意组织他们的资源。注释使用户能够使用自定义信息来装饰资源，以便于他们的工作流程，并为管理工具提供检查点状态的简便方法。

此外，Kubernetes控制平面基于开发人员和用户可用的相同API构建。用户可以使用自己的API编写自己的控制器（例如调度程序），这些API可以通过通用命令行工具进行定位。

这种设计使得许多其他系统能能够在Kubernetes上面构建。

## Kubernetes不是什么？

Kubernetes不是一个传统的，包罗万象的PaaS系统个，由于Kubernetes在容器级别而非硬件级别运行，因此它提供了PaaS产品常用的一些通用功能，例如部署，扩展，负载均衡，日志记录和监控。但是Kubernetes不是单独的，而且这些默认解决的方案是可选和可插拔的。Kubernetes为构建开发人员平台提供了构建模块，但在重要的地方保留了选择和灵活性。

Kubernetes：

- 不限制支持的应用程序类型。Kubernetes旨在支持各种各样的工作负载，包括无状态，有状态和数据处理工作负载。如果应用程序可以在容器中运行，那它应该在Kubernetes上运行的很好。
- 不部署源代码并且不构建应用程序。储蓄集成，交付和部署（CI/CD）工作流程由组织文化和偏好以及技术要求决定。
- 不提供应用程序级服务，例如中间件（例如，message buses），数据处理框架（例如，Spark），数据库（例如MySQL），高速缓存，也不提供存储系统（例如Ceph）。在服务中，这些组件可以在Kubernetes运行，或可以通过便携式机制在Kubernetes上运行的应用程序访问。
-  不指定日志，监控或报警解决方案。它提供了一些集成作为概念证明，以及收集和导出指标的机制。
- 不提供或授权语言/系统。提供了一个声明式API，可以通过任意形式的声明式规范来实现。
- 不提供或采用任何全面的机器配置，维护，管理或自我修复系统。



此外，Kubernetes不仅仅是一个*编排系统*，事实上，它消除了编排的需要。业务流程的技术定义是执行已定义的工作流程：首先执行A，然后运行B，然后执行C，相反，Kubernetes由一组独立的，可组合的控制流程组成，这些流程将当前状态持续推向所提供的所需状态。如何从A到C无关紧要。几种控制也不是必须的。这使得系统更易于使用，功能更强大，更具弹性，可扩展。

部署应用程序的旧方法是使用操作系统软件包管理器在主机上安装应用程序。这样做的缺点是将应用程序的可执行文件，配置和库的生命周期彼此纠缠在一起并与主机操作系统纠缠在一起。可以构建不可变的虚拟机映像以实现可预测的部署和回滚，但虚拟机是重量级且不可移植的。

*新方法*是基于操作系统级虚拟化，而不是硬件虚拟化部署的容器。这些容器彼此隔离并与主机隔离：他们具有自己的文件系统，他们无法看到彼此的进程，并且他们的计算资源使用受到限制。他们比虚拟机更容易构建，并且因为他们与底层基础架构和主机文件系统分离，所以他们可以跨云和操作系统分发和进行移植。

由于容器快而小，因此可以在每个容器映像中打包一个应用程序。这种一对一的应用程序到映像关系解锁了容器的全部优势。使用容器，可以在构建/发布时而不是在部署时创建不可变容器映像，因为每个应用程序不需要与应用程序堆栈和其余部分组合，也不需要与生产移除结构环境结合。在构建/发布时生成容器映像可以实现从开发到生产的一致环境。同样，容器比VM更加透明，这有利于监控和管理。当容器和流程生命周期有基础架构管理而不是由容器内的流程管理器隐藏时，尤其如此。最后，

容器的好处：

- **敏捷应用程序创建和部署**： 与VM映像使用相比，增加了容器映像创建的简便性和效率。

- **持续开发，集成和部署** ：通过快速简便的回滚（由于映像不变性）提供可靠且频繁的容器映像构建和部署。

- **Dev和Ops关注点分离**：在构建/发布时而不是部署时创建应用程序容器映像，从而将应用程序与基础架构分离。

- **可观察性**: 不仅可以显示操作系统级别的信息和指标，还可以显示应用程序运行状况和其他信号。

- **开发，测试和生产环境一致性**： 在笔记本上运行与在云中运行相同。

- **云和操作系统分发可移植性**： 在Ubuntu，RHEL，CoreOS，本地，Google Kubernetes引擎以及其他任何地方运行。

- **以应用程序为中心的管理**：提高在虚拟硬件上运行OS的抽象级别，以及使用逻辑资源在OS上运行应用程序。

- **松耦合，分布式，弹性，解放的微服务**：应用程序被分解为更小，独立的部分，可以动态部署和管理-而不是在一台大型单一用途的机器上运行的单独堆栈。

- **资源隔离**： 可预测的应用程序性能。

- **资源利用**： 高效和高密度。

  



